<div class="my-12 mx-8 ">
  <div class="flex flex-col items-center md:flex-row">
    <div class="flex flex-col flex justify-center items-center">
      <img class="max-w-none h-80 w-80 md:h-auto md:w-auto md:max-w-[100%] lg:max-w-[80%] xl:max-w-[60%]"
           src="{{getConfigurationPath()}}{{movie?.posterPath}}"
           alt="Movie Poster">
    </div>
    <div class="md:mr-24">
      <div class="flex flex-col items-center lg:flex-row mt-4 md:mt-0">
        <div class="flex flex-col md:grow md:shrink-0 md:basis-auto md:w-1/2">
          <div class="text-2xl font-bold text-center">{{movie?.originalTitle}}</div>
          <div class="flex justify-center mt-2 md:mt-4">{{movie?.tagline}}</div>
        </div>

        <div class="flex flex-col mt-4 md:grow md:shrink-0 md:basis-auto md:w-1/2 md:mt-0 xl:mt-0">
          <div>
            <mat-chip-list class="flex justify-center" aria-label="Genres">
              <mat-chip *ngFor="let genre of movie?.genres">{{genre.name}}</mat-chip>
            </mat-chip-list>
          </div>
          <div class="flex flex-row mt-2 md:mt-4">
            <div class="flex basis-1/2 justify-center">
              {{movie?.releaseDate?.toLocaleDateString()}}
            </div>
            <div class="flex basis-1/2 justify-center">
              {{movie?.runtime}} Minutes
            </div>
          </div>
        </div>
      </div>

      <div class="flex flex-col mx-8 md:mx-24 mt-2 md:mt-12">
        <div class="flex justify-center text-xl font-bold">
          Overview
        </div>
        <div class="mt-2 md:mt-4">
          {{movie?.overview}}
        </div>
      </div>

      <div class="flex flex-col md:flex-row justify-center mx-4 mt-4 md:mt-12">
        <div class="flex flex-col flex-1 justify-center mx-4 my-1"
             *ngFor="let directorOrWriter of movie?.directorsAndWriters">
          <div class="flex justify-center font-bold text-base">
            {{directorOrWriter.name}}
          </div>
          <div class="mx-8">
            <div class="flex justify-center">
              <div *ngIf="directorOrWriter.isDirector && directorOrWriter.isWriter; else director">
                Director, Writer
              </div>
              <ng-template #director>
                <div *ngIf="directorOrWriter.isDirector; else writer">
                  Director
                </div>
              </ng-template>
              <ng-template #writer>
                <div *ngIf="directorOrWriter.isWriter">
                  Writer
                </div>
              </ng-template>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="flex flex-col xl:flex-row mt-24 xl:mt-12">
    <div class="flex xl:grow xl:shrink-0 xl:basis-auto xl:w-1/3 justify-center items-center xl:mb-12">
      <div class="flex flex-col justify-center items-center space-y-4">
        <div>
          <div class="text-xl font-bold text-center">Keywords</div>
          <div class="flex justify-center">
            <mat-chip-list class="flex justify-center max-w-[80%] xl:max-w-[33%] center-mat-chips mt-4"
                           aria-label="Keywords">
              <mat-chip *ngFor="let keyword of movie?.keywords">{{keyword.name}}</mat-chip>
            </mat-chip-list>
          </div>
        </div>

        <div>
          <div class="text-xl font-bold text-center">Rating</div>
          <div class="text-lg text-center">{{movie?.voteAverage}}</div>
        </div>

        <div>
          <div class="text-xl font-bold text-center">Budget</div>
          <div class="text-lg text-center">{{movie?.budget}}</div>
        </div>

        <div>
          <div class="text-xl font-bold text-center">Revenue</div>
          <div class="text-lg text-center">{{movie?.revenue}}</div>
        </div>

        <div>
          <div class="text-xl font-bold text-center">Original Language</div>
          <div class="text-lg text-center">{{movie?.originalLanguage}}</div>
        </div>

        <div>
          <div class="text-xl font-bold text-center">Status</div>
          <div class="text-lg text-center">{{movie?.status}}</div>
        </div>
      </div>
    </div>

    <div class="xl:grow-0 xl:shrink-0 xl:basis-auto xl:w-2/3 mt-24 xl:mt-0">
      <div class="flex flex-col flex-1">
        <div>
          <div class="flex justify-center text-3xl font-bold">Streaming Providers</div>
          <div class="my-6">
            <div class="flex justify-center overflow-x-auto mx-8"
                 aria-label="Streaming Providers at which the movie can be bought">
              <div class="flex shrink-0 items-center rounded-xl mx-2 bg-lime-800 mr-auto"
                   *ngFor="let streamingProvider of getWatchProvidersForCurrentCountry()">
                <div class="flex flex-row mx-4 my-3">
                  <div class="flex justify-center items-center">
                    <img class="w-14 h-14 max-w-none rounded-full" alt="Logo of Streaming Provider"
                         src="{{getConfigurationPath()}}{{streamingProvider.logoPath}}">
                  </div>
                  <div class="flex flex-col justify-center ml-4">
                    <div class="flex text-lg">{{streamingProvider.providerName}}</div>
                    <div class="flex justify-center">
                      <div *ngIf="streamingProvider.type === 'buy'; else rent">
                        <mat-icon aria-hidden="false" aria-label="Buy" fontIcon="shopping_cart"></mat-icon>
                      </div>
                      <ng-template #rent>
                        <mat-icon *ngIf="streamingProvider.type === 'rent'; else flatrate" aria-hidden="false"
                                  aria-label="Buy" fontIcon="car_rental"></mat-icon>
                      </ng-template>
                      <ng-template #flatrate>
                        <mat-icon *ngIf="streamingProvider.type === 'flatrate'" aria-hidden="false" aria-label="Buy"
                                  fontIcon="all_inclusive"></mat-icon>
                      </ng-template>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-4">
          <div class="flex flex-col">
            <div class="flex justify-center text-3xl font-bold">Cast</div>
            <div class="flex justify-center overflow-x-auto mx-8 my-6" aria-label="Crew Member">
              <div class="flex shrink-0 items-center rounded-xl mx-2 bg-lime-800"
                   *ngFor="let castMember of movie?.cast">
                <div class="flex flex-row mx-4 my-3">
                  <div class="flex justify-center items-center">
                    <img *ngIf="castMember.profilePath; else dummyPictureWoman"
                         class="w-20 h-20 max-w-none rounded-full" alt="Profile Picture of cast member"
                         src="{{getConfigurationPath()}}{{castMember.profilePath}}">
                    <ng-template #dummyPictureWoman>
                      <img *ngIf="castMember.gender === 1; else dummyPictureMan"
                           class="w-20 h-20 max-w-none rounded-full" alt="Profile Picture of Crew Member"
                           src="../../assets/fallbackProfilePictureMan.svg">
                    </ng-template>
                    <ng-template #dummyPictureMan>
                      <img class="w-20 h-20 max-w-none rounded-full"
                           alt="Profile Picture of cast member"
                           src="../../assets/fallbackProfilePictureMan.svg">
                    </ng-template>
                  </div>
                  <div class="flex flex-col justify-center ml-4">
                    <div class="flex text-lg">{{castMember.name}}</div>
                    <div class="flex justify-center">
                      {{castMember.character}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-4">
          <div class="flex flex-col">
            <div class="flex justify-center text-3xl font-bold">Crew</div>
            <div class="flex justify-center overflow-x-auto mx-8 my-6" aria-label="Crew Member">
              <div class="flex shrink-0 items-center rounded-xl mx-2 bg-lime-800"
                   *ngFor="let crewMember of movie?.crew">
                <div class="flex flex-row mx-4 my-3">
                  <div class="flex justify-center items-center">
                    <img *ngIf="crewMember.gender === 1; else dummyPictureMan"
                         class="w-24 h-24 max-w-none rounded-full" alt="Profile Picture of Crew Member"
                         src="../../assets/fallbackProfilePictureWoman.svg">
                    <ng-template #dummyPictureMan>
                      <img class="w-24 h-24 max-w-none rounded-full" alt="Profile Picture of Crew Member"
                           src="../../assets/fallbackProfilePictureMan.svg">
                    </ng-template>
                  </div>
                  <div class="flex flex-col justify-center ml-4">
                    <div class="flex text-lg">{{crewMember.name}}</div>
                    <div class="flex justify-center">
                      {{crewMember.job}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

</div>
